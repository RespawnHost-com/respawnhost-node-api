{
  "openapi": "3.1.0",
  "info": {
    "title": "RespawnHost.com API - Public API",
    "version": "1.0.0",
    "description": "API documentation for the RespawnHost.com game server hosting api.\n\nThis is the public API documentation."
  },
  "paths": {
    "/api/v1/payments/{id}/download": {
      "get": {
        "tags": [
          "payments"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "url": {
                      "type": "string",
                      "description": "Presigned URL for invoice PDF download"
                    }
                  },
                  "required": [
                    "url"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - API key required"
          },
          "403": {
            "description": "Forbidden - API key missing required scope: payment.read"
          },
          "404": {
            "description": "Not found - Payment not found or Invoice PDF key not found"
          }
        },
        "description": "Download invoice PDF for a payment"
      }
    },
    "/api/v1/payments": {
      "get": {
        "tags": [
          "payments"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            }
          },
          {
            "in": "query",
            "name": "includePending",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            }
          },
          {
            "in": "query",
            "name": "search",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "status",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Success - Returns paginated list of payments",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "example": 1
                          },
                          "userId": {
                            "type": "integer",
                            "example": 123
                          },
                          "amount": {
                            "type": "string",
                            "nullable": true,
                            "example": "29.99"
                          },
                          "topupBonus": {
                            "type": "string",
                            "nullable": true,
                            "example": "5.00"
                          },
                          "paymentMethod": {
                            "type": "string",
                            "nullable": true,
                            "example": "credit_card"
                          },
                          "paymentStatus": {
                            "type": "string",
                            "nullable": true,
                            "example": "COMPLETED"
                          },
                          "paymentProvider": {
                            "type": "string",
                            "nullable": true,
                            "example": "stripe"
                          },
                          "externalId": {
                            "type": "string",
                            "nullable": true,
                            "example": "pi_1234567890"
                          },
                          "invoiceNumber": {
                            "type": "string",
                            "nullable": true,
                            "example": "INV-2024-001"
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2024-01-15T10:30:00Z"
                          },
                          "user": {
                            "type": "object",
                            "nullable": true,
                            "properties": {
                              "id": {
                                "type": "integer",
                                "example": 123
                              },
                              "username": {
                                "type": "string",
                                "nullable": true,
                                "example": "johndoe"
                              },
                              "email": {
                                "type": "string",
                                "nullable": true,
                                "example": "john@example.com"
                              }
                            }
                          }
                        }
                      }
                    },
                    "total": {
                      "type": "integer",
                      "example": 50
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer",
                          "example": 50
                        },
                        "page": {
                          "type": "integer",
                          "example": 1
                        },
                        "limit": {
                          "type": "integer",
                          "example": 10
                        },
                        "pages": {
                          "type": "integer",
                          "example": 5
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error"
          },
          "401": {
            "description": "Unauthorized - API key required"
          },
          "403": {
            "description": "Forbidden - API key missing required scope or insufficient permissions"
          },
          "404": {
            "description": "Not Found - User not found"
          }
        },
        "description": "Get user payments with pagination"
      }
    },
    "/api/v1/servers/{uuid}/alias": {
      "put": {
        "tags": [
          "servers"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "uuid",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Server alias updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Server renamed successfully"
                    },
                    "alias": {
                      "type": "string",
                      "description": "The new server alias"
                    }
                  },
                  "required": [
                    "success",
                    "message",
                    "alias"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input data"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or API key missing required scope: server.write"
          },
          "404": {
            "description": "Not Found - Server not found"
          }
        },
        "description": "Update server alias/name",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "alias"
                ],
                "properties": {
                  "alias": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{uuid}/backup-settings": {
      "put": {
        "tags": [
          "servers"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "uuid",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Backup settings updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Backup settings updated successfully"
                    }
                  },
                  "required": [
                    "success",
                    "message"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input data"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or API key missing required scope: server.backup"
          },
          "404": {
            "description": "Not Found - Server not found"
          }
        },
        "description": "Update server backup settings",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "auto_backup"
                ],
                "properties": {
                  "auto_backup": {
                    "type": "boolean"
                  },
                  "backup_day_value": {
                    "type": "string",
                    "enum": [
                      "SUNDAY",
                      "MONDAY",
                      "TUESDAY",
                      "WEDNESDAY",
                      "THURSDAY",
                      "FRIDAY",
                      "SATURDAY"
                    ]
                  },
                  "backup_interval": {
                    "type": "string",
                    "enum": [
                      "DAILY",
                      "WEEKLY",
                      "MONTHLY",
                      "HOURLY"
                    ]
                  },
                  "backup_retention": {
                    "type": "integer"
                  },
                  "backup_time_value": {
                    "type": "string"
                  },
                  "backup_month_day_value": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 31
                  },
                  "backup_hour_minute": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 59
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{uuid}/backups/{backupId}/download": {
      "get": {
        "tags": [
          "servers/backups"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          },
          {
            "name": "backupId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Backup ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Presigned download URL generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "url": {
                      "type": "string",
                      "format": "uri",
                      "description": "Presigned URL to download backup"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope"
          },
          "404": {
            "description": "Server or backup not found"
          }
        },
        "description": "Get a presigned download URL for a backup"
      }
    },
    "/api/v1/servers/{uuid}/backups/{backupId}": {
      "delete": {
        "tags": [
          "servers/backups"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          },
          {
            "name": "backupId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Backup ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Backup deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "description": "Whether operation was successful"
                    },
                    "message": {
                      "type": "string",
                      "description": "Success message"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope"
          },
          "404": {
            "description": "Server or backup not found"
          }
        },
        "description": "Delete a server backup"
      },
      "get": {
        "tags": [
          "servers/backups"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          },
          {
            "name": "backupId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Backup ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Backup details retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "description": "Backup ID"
                    },
                    "serverId": {
                      "type": "integer",
                      "nullable": true,
                      "description": "Server ID"
                    },
                    "isReady": {
                      "type": "integer",
                      "description": "Whether backup is ready (0 or 1)"
                    },
                    "progress": {
                      "type": "integer",
                      "description": "Backup progress (0-100)"
                    },
                    "backupFileName": {
                      "type": "string",
                      "description": "Backup file name in storage"
                    },
                    "backupName": {
                      "type": "string",
                      "description": "User-friendly backup name"
                    },
                    "backupSize": {
                      "type": "integer",
                      "description": "Backup size in bytes"
                    },
                    "jobId": {
                      "type": "string",
                      "description": "Background job ID"
                    },
                    "lowOnCashSince": {
                      "type": "string",
                      "format": "date-time",
                      "nullable": true
                    },
                    "lowOnCashReminders": {
                      "type": "integer"
                    },
                    "lastPaymentAt": {
                      "type": "string",
                      "format": "date-time",
                      "nullable": true
                    },
                    "createdAt": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "updatedAt": {
                      "type": "string",
                      "format": "date-time",
                      "nullable": true
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope"
          },
          "404": {
            "description": "Server or backup not found"
          }
        },
        "description": "Get details for a specific backup"
      }
    },
    "/api/v1/servers/{uuid}/backups/{backupId}/restore": {
      "post": {
        "tags": [
          "servers/backups"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          },
          {
            "name": "backupId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Backup ID"
          },
          {
            "name": "truncate",
            "in": "query",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "description": "Delete existing files before restore"
          }
        ],
        "responses": {
          "200": {
            "description": "Backup restore started successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "description": "Whether operation was successful"
                    },
                    "message": {
                      "type": "string",
                      "description": "Success message"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope"
          },
          "404": {
            "description": "Server or backup not found"
          },
          "500": {
            "description": "Internal server error - Backup not found"
          }
        },
        "description": "Restore a server from a backup"
      }
    },
    "/api/v1/servers/{uuid}/backups": {
      "get": {
        "tags": [
          "servers/backups"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          }
        ],
        "responses": {
          "200": {
            "description": "List of backups for server",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer",
                        "description": "Backup ID"
                      },
                      "serverId": {
                        "type": "integer",
                        "nullable": true,
                        "description": "Server ID"
                      },
                      "isReady": {
                        "type": "integer",
                        "description": "Whether backup is ready (0 or 1)"
                      },
                      "progress": {
                        "type": "integer",
                        "description": "Backup progress (0-100)"
                      },
                      "backupFileName": {
                        "type": "string",
                        "description": "Backup file name in storage"
                      },
                      "backupName": {
                        "type": "string",
                        "description": "User-friendly backup name"
                      },
                      "backupSize": {
                        "type": "integer",
                        "description": "Backup size in bytes"
                      },
                      "jobId": {
                        "type": "string",
                        "description": "Background job ID"
                      },
                      "lowOnCashSince": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                      },
                      "lowOnCashReminders": {
                        "type": "integer"
                      },
                      "lastPaymentAt": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                      },
                      "createdAt": {
                        "type": "string",
                        "format": "date-time"
                      },
                      "updatedAt": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope"
          },
          "404": {
            "description": "Server not found"
          }
        },
        "description": "List all backups for a server"
      },
      "post": {
        "tags": [
          "servers/backups"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          }
        ],
        "responses": {
          "200": {
            "description": "Backup created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "description": "Backup ID"
                    },
                    "serverId": {
                      "type": "integer",
                      "nullable": true,
                      "description": "Server ID"
                    },
                    "isReady": {
                      "type": "integer",
                      "description": "Whether backup is ready (0 or1)"
                    },
                    "progress": {
                      "type": "integer",
                      "description": "Backup progress (0-100)"
                    },
                    "backupFileName": {
                      "type": "string",
                      "description": "Backup file name in storage"
                    },
                    "backupName": {
                      "type": "string",
                      "description": "User-friendly backup name"
                    },
                    "backupSize": {
                      "type": "integer",
                      "description": "Backup size in bytes"
                    },
                    "jobId": {
                      "type": "string",
                      "description": "Background job ID"
                    },
                    "createdAt": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "updatedAt": {
                      "type": "string",
                      "format": "date-time",
                      "nullable": true
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope"
          },
          "404": {
            "description": "Server not found"
          },
          "500": {
            "description": "Failed to create backup"
          }
        },
        "description": "Create a new backup for a server",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Custom backup name"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{uuid}/backups/settings": {
      "get": {
        "tags": [
          "servers/backups"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          }
        ],
        "responses": {
          "200": {
            "description": "Backup settings retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "autoBackupEnabled": {
                      "type": "boolean",
                      "description": "Whether automatic backups are enabled"
                    },
                    "backupInterval": {
                      "type": "string",
                      "enum": [
                        "hourly",
                        "daily",
                        "weekly",
                        "monthly"
                      ],
                      "description": "Backup frequency"
                    },
                    "backupRetention": {
                      "type": "integer",
                      "description": "Number of backups to retain"
                    },
                    "backupTime": {
                      "type": "string",
                      "description": "Time for scheduled backups (HH:MM)"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope"
          },
          "404": {
            "description": "Server not found"
          }
        },
        "description": "Get backup settings for a server"
      },
      "post": {
        "tags": [
          "servers/backups"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          }
        ],
        "responses": {
          "200": {
            "description": "Backup settings updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "description": "Whether operation was successful"
                    },
                    "message": {
                      "type": "string",
                      "description": "Success message"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request body or validation error"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope"
          },
          "404": {
            "description": "Server not found"
          }
        },
        "description": "Update backup settings for a server",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "autoBackupEnabled",
                  "backupInterval",
                  "backupRetention",
                  "backupTime"
                ],
                "properties": {
                  "autoBackupEnabled": {
                    "type": "boolean",
                    "description": "Enable automatic backups"
                  },
                  "backupInterval": {
                    "type": "string",
                    "enum": [
                      "hourly",
                      "daily",
                      "weekly",
                      "monthly"
                    ],
                    "description": "Backup frequency"
                  },
                  "backupRetention": {
                    "type": "integer",
                    "description": "Number of backups to retain"
                  },
                  "backupTime": {
                    "type": "string",
                    "description": "Time for scheduled backups (HH:MM)"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{uuid}/databases/{databaseId}": {
      "delete": {
        "tags": [
          "servers/databases"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          },
          {
            "name": "databaseId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Database ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Database deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Database deleted successfully"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or API key missing required scope: server.database"
          },
          "404": {
            "description": "Server not found"
          }
        },
        "description": "Delete a server database"
      },
      "get": {
        "tags": [
          "servers/databases"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          },
          {
            "name": "databaseId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Database ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Database details retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "object": {
                      "type": "string",
                      "example": "database"
                    },
                    "attributes": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "Database ID"
                        },
                        "server": {
                          "type": "integer",
                          "description": "Server ID"
                        },
                        "host": {
                          "type": "integer",
                          "description": "Database host ID"
                        },
                        "database": {
                          "type": "string",
                          "description": "Database name"
                        },
                        "username": {
                          "type": "string",
                          "description": "Database username"
                        },
                        "remote": {
                          "type": "string",
                          "description": "Remote host access pattern"
                        },
                        "max_connections": {
                          "type": "integer",
                          "description": "Maximum connections allowed"
                        },
                        "created_at": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updated_at": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "relationships": {
                          "type": "object",
                          "properties": {
                            "password": {
                              "type": "object",
                              "properties": {
                                "object": {
                                  "type": "string"
                                },
                                "attributes": {
                                  "type": "object",
                                  "properties": {
                                    "password": {
                                      "type": "string",
                                      "description": "Database password"
                                    }
                                  }
                                }
                              }
                            },
                            "host": {
                              "type": "object",
                              "properties": {
                                "object": {
                                  "type": "string"
                                },
                                "attributes": {
                                  "type": "object",
                                  "properties": {
                                    "id": {
                                      "type": "integer"
                                    },
                                    "name": {
                                      "type": "string"
                                    },
                                    "host": {
                                      "type": "string"
                                    },
                                    "port": {
                                      "type": "integer"
                                    },
                                    "username": {
                                      "type": "string"
                                    },
                                    "node": {
                                      "type": "integer"
                                    },
                                    "created_at": {
                                      "type": "string",
                                      "format": "date-time"
                                    },
                                    "updated_at": {
                                      "type": "string",
                                      "format": "date-time"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or API key missing required scope: server.database"
          },
          "404": {
            "description": "Server not found"
          }
        },
        "description": "Get details for a specific database"
      }
    },
    "/api/v1/servers/{uuid}/databases/{databaseId}/rotate-credentials": {
      "post": {
        "tags": [
          "servers/databases"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          },
          {
            "name": "databaseId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Database ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Database credentials rotated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Database credentials rotated successfully"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or API key missing required scope: server.database"
          },
          "404": {
            "description": "Server not found"
          }
        },
        "description": "Rotate database password credentials"
      }
    },
    "/api/v1/servers/{uuid}/databases": {
      "get": {
        "tags": [
          "servers/databases"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          },
          {
            "name": "include",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Related data to include"
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer"
            },
            "description": "Page number"
          }
        ],
        "responses": {
          "200": {
            "description": "List of databases for server",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "object": {
                      "type": "string",
                      "example": "list"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "object": {
                            "type": "string",
                            "example": "database"
                          },
                          "attributes": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer",
                                "description": "Database ID"
                              },
                              "server": {
                                "type": "integer",
                                "description": "Server ID"
                              },
                              "host": {
                                "type": "integer",
                                "description": "Database host ID"
                              },
                              "database": {
                                "type": "string",
                                "description": "Database name"
                              },
                              "username": {
                                "type": "string",
                                "description": "Database username"
                              },
                              "remote": {
                                "type": "string",
                                "description": "Remote host access pattern"
                              },
                              "max_connections": {
                                "type": "integer",
                                "description": "Maximum connections allowed"
                              },
                              "created_at": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "updated_at": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "relationships": {
                                "type": "object",
                                "description": "Related data if included",
                                "properties": {
                                  "password": {
                                    "type": "object"
                                  },
                                  "host": {
                                    "type": "object"
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "meta": {
                      "type": "object",
                      "properties": {
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "total": {
                              "type": "integer"
                            },
                            "count": {
                              "type": "integer"
                            },
                            "per_page": {
                              "type": "integer"
                            },
                            "current_page": {
                              "type": "integer"
                            },
                            "total_pages": {
                              "type": "integer"
                            },
                            "links": {
                              "type": "object"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or API key missing required scope: server.database"
          },
          "404": {
            "description": "Server not found"
          }
        },
        "description": "List all databases for a server"
      },
      "post": {
        "tags": [
          "servers/databases"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          }
        ],
        "responses": {
          "201": {
            "description": "Database created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "object": {
                      "type": "string",
                      "example": "database"
                    },
                    "attributes": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "description": "Database ID"
                        },
                        "server": {
                          "type": "integer",
                          "description": "Server ID"
                        },
                        "host": {
                          "type": "integer",
                          "description": "Database host ID"
                        },
                        "database": {
                          "type": "string",
                          "description": "Database name"
                        },
                        "username": {
                          "type": "string",
                          "description": "Database username"
                        },
                        "remote": {
                          "type": "string",
                          "description": "Remote host access pattern"
                        },
                        "max_connections": {
                          "type": "integer",
                          "description": "Maximum connections allowed"
                        },
                        "created_at": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updated_at": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid database name or parameters"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or API key missing required scope: server.database"
          },
          "404": {
            "description": "Server not found"
          }
        },
        "description": "Create a new database for a server",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "database"
                ],
                "properties": {
                  "database": {
                    "type": "string",
                    "description": "Database name"
                  },
                  "remote": {
                    "type": "string",
                    "description": "Remote host access pattern"
                  },
                  "host": {
                    "type": "integer",
                    "minimum": 1,
                    "description": "Database host ID"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{uuid}/files/compress": {
      "post": {
        "tags": [
          "servers/files"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          }
        ],
        "responses": {
          "200": {
            "description": "Files compressed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Files compressed successfully"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope: server.files"
          },
          "404": {
            "description": "Server not found"
          }
        },
        "description": "Compress files on a server into an archive",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "root",
                  "files"
                ],
                "properties": {
                  "root": {
                    "type": "string",
                    "description": "Root directory path"
                  },
                  "files": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "minItems": 1,
                    "description": "Files to compress"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{uuid}/files/content": {
      "get": {
        "tags": [
          "servers/files"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          },
          {
            "name": "file",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "File path"
          }
        ],
        "responses": {
          "200": {
            "description": "File content retrieved successfully",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string",
                  "description": "File content as text"
                }
              },
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary",
                  "description": "File content as binary"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope: server.files"
          },
          "404": {
            "description": "Server not found"
          }
        },
        "description": "Get content of a file"
      }
    },
    "/api/v1/servers/{uuid}/files/copy": {
      "post": {
        "tags": [
          "servers/files"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          }
        ],
        "responses": {
          "200": {
            "description": "File copied successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "File copied successfully"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope: server.files"
          },
          "404": {
            "description": "Server not found"
          }
        },
        "description": "Copy a file on a server",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "location"
                ],
                "properties": {
                  "location": {
                    "type": "string",
                    "description": "File location to copy"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{uuid}/files/create-directory": {
      "post": {
        "tags": [
          "servers/files"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          }
        ],
        "responses": {
          "200": {
            "description": "Directory created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Directory created successfully"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope: server.files"
          },
          "404": {
            "description": "Server not found"
          }
        },
        "description": "Create a new directory on a server",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "root",
                  "name"
                ],
                "properties": {
                  "root": {
                    "type": "string",
                    "description": "Parent directory path"
                  },
                  "name": {
                    "type": "string",
                    "description": "New directory name"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{uuid}/files/decompress": {
      "post": {
        "tags": [
          "servers/files"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          }
        ],
        "responses": {
          "200": {
            "description": "File decompressed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "File decompressed successfully"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope: server.files"
          },
          "404": {
            "description": "Server not found"
          }
        },
        "description": "Decompress an archive file on a server",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "root",
                  "file"
                ],
                "properties": {
                  "root": {
                    "type": "string",
                    "description": "Target directory path"
                  },
                  "file": {
                    "type": "string",
                    "description": "Archive file to decompress"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{uuid}/files/delete": {
      "post": {
        "tags": [
          "servers/files"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          }
        ],
        "responses": {
          "200": {
            "description": "Files deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "File deleted successfully"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope: server.files"
          },
          "404": {
            "description": "Server not found"
          }
        },
        "description": "Delete files or directories on a server",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "root",
                  "files"
                ],
                "properties": {
                  "root": {
                    "type": "string",
                    "description": "Root directory path"
                  },
                  "files": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Files to delete"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{uuid}/files": {
      "get": {
        "tags": [
          "servers/files"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          },
          {
            "name": "directory",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Directory path to list"
          }
        ],
        "responses": {
          "200": {
            "description": "File listing retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "object": {
                      "type": "string",
                      "example": "list"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "object": {
                            "type": "string"
                          },
                          "attributes": {
                            "type": "object",
                            "properties": {
                              "name": {
                                "type": "string",
                                "description": "File or directory name"
                              },
                              "mode": {
                                "type": "string",
                                "description": "File permission mode"
                              },
                              "size": {
                                "type": "integer",
                                "description": "File size in bytes"
                              },
                              "is_file": {
                                "type": "boolean",
                                "description": "Whether this is a file"
                              },
                              "is_symlink": {
                                "type": "boolean",
                                "description": "Whether this is a symbolic link"
                              },
                              "is_editable": {
                                "type": "boolean",
                                "description": "Whether this file is editable"
                              },
                              "mimetype": {
                                "type": "string",
                                "description": "MIME type of the file"
                              },
                              "created_at": {
                                "type": "string",
                                "format": "date-time",
                                "description": "Creation timestamp"
                              },
                              "modified_at": {
                                "type": "string",
                                "format": "date-time",
                                "description": "Last modification timestamp"
                              }
                            }
                          }
                        }
                      }
                    },
                    "meta": {
                      "type": "object",
                      "properties": {
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "total": {
                              "type": "integer"
                            },
                            "count": {
                              "type": "integer"
                            },
                            "per_page": {
                              "type": "integer"
                            },
                            "current_page": {
                              "type": "integer"
                            },
                            "total_pages": {
                              "type": "integer"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope: server.files"
          },
          "404": {
            "description": "Server not found"
          }
        },
        "description": "List files and directories in a server directory"
      }
    },
    "/api/v1/servers/{uuid}/files/rename": {
      "put": {
        "tags": [
          "servers/files"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          }
        ],
        "responses": {
          "200": {
            "description": "Files renamed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "File renamed successfully"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope: server.files"
          },
          "404": {
            "description": "Server not found"
          }
        },
        "description": "Rename or move files on a server",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "root",
                  "files"
                ],
                "properties": {
                  "root": {
                    "type": "string",
                    "description": "Root directory path"
                  },
                  "files": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "from": {
                          "type": "string",
                          "description": "Original file name"
                        },
                        "to": {
                          "type": "string",
                          "description": "New file name"
                        }
                      }
                    },
                    "description": "Array of rename operations"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{uuid}/files/request-download": {
      "post": {
        "tags": [
          "servers/files"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          }
        ],
        "responses": {
          "200": {
            "description": "File download request initiated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "Response from the Panel API for download request"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope: server.files"
          },
          "404": {
            "description": "Server not found"
          },
          "500": {
            "description": "Failed to initiate file download"
          }
        },
        "description": "Request a file download from URL to server",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "url",
                  "use_header",
                  "foreground"
                ],
                "properties": {
                  "url": {
                    "type": "string",
                    "description": "URL to download from"
                  },
                  "directory": {
                    "type": "string",
                    "description": "Target directory"
                  },
                  "filename": {
                    "type": "string",
                    "description": "Optional filename override"
                  },
                  "use_header": {
                    "type": "boolean",
                    "description": "Use Content-Disposition header for filename"
                  },
                  "foreground": {
                    "type": "boolean",
                    "description": "Run download in foreground"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{uuid}/files/token": {
      "get": {
        "tags": [
          "servers/files"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          },
          {
            "name": "file",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "File path"
          }
        ],
        "responses": {
          "200": {
            "description": "Download token generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "object": {
                      "type": "string"
                    },
                    "attributes": {
                      "type": "object",
                      "properties": {
                        "url": {
                          "type": "string",
                          "description": "One-time download URL with token"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope: server.files"
          },
          "404": {
            "description": "Server not found"
          }
        },
        "description": "Generate a download token for a file"
      }
    },
    "/api/v1/servers/{uuid}/files/update-permissions": {
      "post": {
        "tags": [
          "servers/files"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          }
        ],
        "responses": {
          "200": {
            "description": "File permissions updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "File permissions updated successfully"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope: server.files"
          },
          "404": {
            "description": "Server not found"
          }
        },
        "description": "Update file permissions on a server",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "root",
                  "files"
                ],
                "properties": {
                  "root": {
                    "type": "string",
                    "description": "Root directory path"
                  },
                  "files": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "file": {
                          "type": "string",
                          "description": "File path"
                        },
                        "mode": {
                          "type": "string",
                          "description": "Permission mode (e.g., 0644)"
                        }
                      }
                    },
                    "description": "Files with permission updates"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{uuid}/files/upload-token": {
      "get": {
        "tags": [
          "servers/files"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          },
          {
            "name": "directory",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Target directory for upload"
          }
        ],
        "responses": {
          "200": {
            "description": "Upload token generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "object": {
                      "type": "string"
                    },
                    "attributes": {
                      "type": "object",
                      "properties": {
                        "url": {
                          "type": "string",
                          "description": "Upload URL with token"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope: server.files"
          },
          "404": {
            "description": "Server not found"
          }
        },
        "description": "Get an upload token for a server directory"
      }
    },
    "/api/v1/servers/{uuid}/files/write": {
      "post": {
        "tags": [
          "servers/files"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          },
          {
            "name": "file",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "File path to write to"
          }
        ],
        "responses": {
          "200": {
            "description": "File contents written successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "File contents written successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - No file content provided"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope: server.files"
          },
          "404": {
            "description": "Server not found"
          }
        },
        "description": "Write content to a file on a server",
        "requestBody": {
          "content": {
            "text/plain": {
              "schema": {
                "type": "string",
                "description": "File content"
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{uuid}/game-package": {
      "post": {
        "tags": [
          "servers"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "uuid",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Game package updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Game package updated successfully"
                    }
                  },
                  "required": [
                    "success",
                    "message"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input data"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or API key missing required scope: server.write"
          },
          "404": {
            "description": "Not Found - Server or game package not found"
          }
        },
        "description": "Change server game package/plan",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "package_id"
                ],
                "properties": {
                  "package_id": {
                    "type": "integer",
                    "minimum": 1
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{uuid}": {
      "delete": {
        "tags": [
          "servers"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "uuid",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "in": "query",
            "name": "force",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "in": "query",
            "name": "deleteToBackup",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Server deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Server deleted successfully"
                    }
                  },
                  "required": [
                    "success",
                    "message"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid UUID format"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or API key missing required scope: server.delete"
          },
          "404": {
            "description": "Not Found - Server not found"
          }
        },
        "description": "Delete a server"
      },
      "get": {
        "tags": [
          "servers"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "uuid",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "in": "query",
            "name": "includePanelServer",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Server details retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "description": "Internal server ID"
                    },
                    "panelServerId": {
                      "type": "integer",
                      "description": "Panel server ID"
                    },
                    "panelUuid": {
                      "type": "string",
                      "format": "uuid",
                      "description": "Panel server UUID"
                    },
                    "alias": {
                      "type": "string",
                      "nullable": true,
                      "description": "Server alias/name"
                    },
                    "packageId": {
                      "type": "integer",
                      "nullable": true,
                      "description": "Game package ID"
                    },
                    "autoBackup": {
                      "type": "integer",
                      "description": "Auto backup enabled (0/1)"
                    },
                    "backupInterval": {
                      "type": "string",
                      "nullable": true,
                      "enum": [
                        "DAILY",
                        "WEEKLY",
                        "MONTHLY",
                        "HOURLY"
                      ]
                    },
                    "backupDayValue": {
                      "type": "string",
                      "nullable": true
                    },
                    "backupTimeValue": {
                      "type": "string",
                      "nullable": true
                    },
                    "backupRetention": {
                      "type": "integer",
                      "nullable": true
                    },
                    "backupMonthDayValue": {
                      "type": "integer",
                      "nullable": true
                    },
                    "backupHourMinute": {
                      "type": "integer",
                      "nullable": true
                    },
                    "createdAt": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "updatedAt": {
                      "type": "string",
                      "format": "date-time"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid UUID format"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or API key missing required scope: server.read"
          },
          "404": {
            "description": "Not Found - Server not found"
          }
        },
        "description": "Get server details by UUID"
      }
    },
    "/api/v1/servers/{uuid}/minecraft/eula": {
      "get": {
        "tags": [
          "servers/minecraft"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved EULA status",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "exists": {
                      "type": "boolean",
                      "description": "Whether eula.txt file exists"
                    },
                    "accepted": {
                      "type": "boolean",
                      "description": "Whether EULA has been accepted"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - This endpoint is only for Minecraft servers"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or API key missing required scope: server.read"
          },
          "404": {
            "description": "Not Found - Server not found"
          }
        },
        "description": "Check if Minecraft EULA is accepted"
      },
      "post": {
        "tags": [
          "servers/minecraft"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully accepted EULA",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "EULA accepted successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - This endpoint is only for Minecraft servers"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or API key missing required scope: server.write"
          },
          "404": {
            "description": "Not Found - Server not found"
          }
        },
        "description": "Accept Minecraft EULA"
      }
    },
    "/api/v1/servers/{uuid}/mod-install": {
      "post": {
        "tags": [
          "servers"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "uuid",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Mod/plugin installation started successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Mod installation started"
                    },
                    "filename": {
                      "type": "string",
                      "example": "sodium-1.0.0.jar"
                    }
                  },
                  "required": [
                    "success",
                    "message",
                    "filename"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Mod installation not supported for this server type"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or API key missing required scope"
          },
          "404": {
            "description": "Not Found - Server not found"
          },
          "500": {
            "description": "Internal Server Error - Failed to install mod/plugin"
          }
        },
        "description": "Install a mod or plugin on the server (downloads to mods/plugins folder)",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "download_url",
                  "filename"
                ],
                "properties": {
                  "download_url": {
                    "type": "string",
                    "description": "Direct download URL for the mod/plugin file"
                  },
                  "filename": {
                    "type": "string",
                    "description": "Filename for the mod/plugin (e.g. \"sodium-1.0.0.jar\")"
                  },
                  "mod_id": {
                    "type": "string",
                    "description": "Mod/Plugin ID from the source (for tracking)"
                  },
                  "source": {
                    "type": "string",
                    "enum": [
                      "modrinth",
                      "curseforge",
                      "hangar"
                    ],
                    "description": "Source platform"
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "mod",
                      "plugin"
                    ],
                    "description": "Type of installation (determines target folder)"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{uuid}/mod-remove": {
      "post": {
        "tags": [
          "servers"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "uuid",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Mod removed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Mod removed successfully"
                    },
                    "filename": {
                      "type": "string",
                      "example": "sodium-1.0.0.jar"
                    }
                  },
                  "required": [
                    "success",
                    "message",
                    "filename"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Mod removal not supported for this server type"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or API key missing required scope"
          },
          "404": {
            "description": "Not Found - Server not found"
          },
          "500": {
            "description": "Internal Server Error - Failed to remove mod"
          }
        },
        "description": "Remove a mod from the server",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "filename"
                ],
                "properties": {
                  "filename": {
                    "type": "string",
                    "description": "Filename of the mod to remove (e.g. \"sodium-1.0.0.jar\")"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{uuid}/modpack-install": {
      "post": {
        "tags": [
          "servers"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "uuid",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Modpack installed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Modpack installed"
                    }
                  },
                  "required": [
                    "success",
                    "message"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or API key missing required scope"
          },
          "404": {
            "description": "Not Found - Server not found"
          },
          "500": {
            "description": "Internal Server Error - Failed to create backup or install modpack"
          }
        },
        "description": "Install a modpack on the server",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "modpack_id",
                  "platform"
                ],
                "properties": {
                  "modpack_id": {
                    "type": "string"
                  },
                  "create_backup": {
                    "type": "boolean",
                    "default": false
                  },
                  "version": {
                    "type": "string",
                    "default": "latest"
                  },
                  "platform": {
                    "type": "string",
                    "enum": [
                      "curseforge",
                      "modrinth"
                    ]
                  },
                  "mod_loader": {
                    "type": "string",
                    "enum": [
                      "fabric",
                      "forge",
                      "neoforge",
                      "quilt"
                    ]
                  },
                  "curseforge_download_url": {
                    "type": "string",
                    "description": "Direct download URL for CurseForge server pack"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{uuid}/powerstate": {
      "post": {
        "tags": [
          "servers"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "uuid",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Power state updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Power state updated"
                    }
                  },
                  "required": [
                    "success",
                    "message"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or API key missing required scope"
          },
          "404": {
            "description": "Not Found - Server not found"
          },
          "428": {
            "description": "Precondition Required - Minecraft EULA must be accepted before starting the server",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "integer",
                      "example": 428
                    },
                    "statusMessage": {
                      "type": "string",
                      "example": "Minecraft EULA must be accepted before starting the server"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "eulaRequired": {
                          "type": "boolean",
                          "example": true
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "description": "Change server power state",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "power_state"
                ],
                "properties": {
                  "power_state": {
                    "type": "string",
                    "enum": [
                      "start",
                      "stop",
                      "restart",
                      "kill"
                    ]
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{uuid}/reinstall": {
      "post": {
        "tags": [
          "servers"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          }
        ],
        "responses": {
          "200": {
            "description": "Server reinstall initiated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Server reinstall initiated"
                    }
                  },
                  "required": [
                    "success",
                    "message"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or API key missing required scope"
          },
          "404": {
            "description": "Not Found - Server not found"
          }
        },
        "description": "Reinstall a server with optional file preservation",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "keep_files": {
                    "type": "boolean",
                    "description": "Keep existing files during reinstall"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{uuid}/resource-utilization": {
      "get": {
        "tags": [
          "servers"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          }
        ],
        "responses": {
          "200": {
            "description": "Server resource utilization data",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "current_state": {
                      "type": "string",
                      "description": "Current server state",
                      "example": "running"
                    },
                    "is_suspended": {
                      "type": "boolean",
                      "description": "Whether server is suspended"
                    },
                    "resources": {
                      "type": "object",
                      "properties": {
                        "memory_bytes": {
                          "type": "integer",
                          "description": "Memory usage in bytes"
                        },
                        "cpu_absolute": {
                          "type": "number",
                          "description": "CPU usage percentage"
                        },
                        "disk_bytes": {
                          "type": "integer",
                          "description": "Disk usage in bytes"
                        },
                        "network_rx_bytes": {
                          "type": "integer",
                          "description": "Network received bytes"
                        },
                        "network_tx_bytes": {
                          "type": "integer",
                          "description": "Network transmitted bytes"
                        },
                        "uptime": {
                          "type": "integer",
                          "description": "Server uptime in milliseconds"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or API key missing required scope"
          },
          "404": {
            "description": "Not Found - Server not found"
          }
        },
        "description": "Get server resource utilization (CPU, memory, disk, network)"
      }
    },
    "/api/v1/servers/{uuid}/rotate-sftp-credentials": {
      "post": {
        "tags": [
          "servers"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          }
        ],
        "responses": {
          "200": {
            "description": "SFTP credentials rotated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "SFTP credentials rotated successfully"
                    },
                    "password": {
                      "type": "string",
                      "description": "New SFTP password"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope"
          },
          "404": {
            "description": "Server not found"
          },
          "500": {
            "description": "Failed to rotate SFTP credentials"
          }
        },
        "description": "Rotate SFTP credentials for a server and return new password"
      }
    },
    "/api/v1/servers/{uuid}/schedules/{scheduleId}": {
      "delete": {
        "tags": [
          "servers/schedules"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          },
          {
            "name": "scheduleId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Schedule ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Schedule deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope"
          },
          "404": {
            "description": "Server or schedule not found"
          }
        },
        "description": "Delete a server schedule"
      },
      "get": {
        "tags": [
          "servers/schedules"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          },
          {
            "name": "scheduleId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Schedule ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Schedule details with tasks",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "name": {
                      "type": "string"
                    },
                    "is_active": {
                      "type": "boolean"
                    },
                    "only_when_online": {
                      "type": "boolean"
                    },
                    "timezone": {
                      "type": "string"
                    },
                    "minute": {
                      "type": "string"
                    },
                    "hour": {
                      "type": "string"
                    },
                    "day_of_month": {
                      "type": "string"
                    },
                    "month": {
                      "type": "string"
                    },
                    "day_of_week": {
                      "type": "string"
                    },
                    "last_run_at": {
                      "type": "string",
                      "format": "date-time",
                      "nullable": true
                    },
                    "next_run_at": {
                      "type": "string",
                      "format": "date-time",
                      "nullable": true
                    },
                    "created_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "relationships": {
                      "type": "object",
                      "properties": {
                        "tasks": {
                          "type": "object",
                          "properties": {
                            "data": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "attributes": {
                                    "type": "object",
                                    "properties": {
                                      "id": {
                                        "type": "integer"
                                      },
                                      "sequence_id": {
                                        "type": "integer"
                                      },
                                      "action": {
                                        "type": "string",
                                        "enum": [
                                          "command",
                                          "power",
                                          "backup",
                                          "delete_files"
                                        ]
                                      },
                                      "payload": {
                                        "type": "string",
                                        "nullable": true
                                      },
                                      "time_offset": {
                                        "type": "integer"
                                      },
                                      "continue_on_failure": {
                                        "type": "boolean"
                                      },
                                      "created_at": {
                                        "type": "string",
                                        "format": "date-time"
                                      },
                                      "updated_at": {
                                        "type": "string",
                                        "format": "date-time"
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope"
          },
          "404": {
            "description": "Server or schedule not found"
          }
        },
        "description": "Get details for a specific schedule including tasks"
      },
      "put": {
        "tags": [
          "servers/schedules"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          },
          {
            "name": "scheduleId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Schedule ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Schedule updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request body"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope"
          },
          "404": {
            "description": "Server or schedule not found"
          }
        },
        "description": "Update a server schedule",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "minute",
                  "hour",
                  "day_of_month",
                  "month",
                  "day_of_week"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Schedule name"
                  },
                  "is_active": {
                    "type": "boolean",
                    "description": "Whether schedule is active"
                  },
                  "only_when_online": {
                    "type": "boolean",
                    "description": "Run only when server is online"
                  },
                  "timezone": {
                    "type": "string",
                    "description": "Timezone for schedule"
                  },
                  "minute": {
                    "type": "string",
                    "description": "Cron minute expression"
                  },
                  "hour": {
                    "type": "string",
                    "description": "Cron hour expression"
                  },
                  "day_of_month": {
                    "type": "string",
                    "description": "Cron day of month expression"
                  },
                  "month": {
                    "type": "string",
                    "description": "Cron month expression"
                  },
                  "day_of_week": {
                    "type": "string",
                    "description": "Cron day of week expression"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{uuid}/schedules/{scheduleId}/tasks/{taskId}": {
      "delete": {
        "tags": [
          "servers/schedules"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          },
          {
            "name": "scheduleId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Schedule ID"
          },
          {
            "name": "taskId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Task ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Task deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope"
          },
          "404": {
            "description": "Server, schedule, or task not found"
          }
        },
        "description": "Delete a task from a schedule"
      },
      "put": {
        "tags": [
          "servers/schedules"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          },
          {
            "name": "scheduleId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Schedule ID"
          },
          {
            "name": "taskId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Task ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Task updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request body"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope"
          },
          "404": {
            "description": "Server, schedule, or task not found"
          }
        },
        "description": "Update a task in a schedule",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "action",
                  "time_offset",
                  "sequence_id",
                  "continue_on_failure"
                ],
                "properties": {
                  "action": {
                    "type": "string",
                    "enum": [
                      "command",
                      "power",
                      "backup",
                      "delete_files"
                    ],
                    "description": "Task action type"
                  },
                  "payload": {
                    "type": "string",
                    "description": "Action payload"
                  },
                  "time_offset": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 900,
                    "description": "Offset in seconds from schedule time"
                  },
                  "sequence_id": {
                    "type": "integer",
                    "minimum": 1,
                    "description": "Task sequence order"
                  },
                  "continue_on_failure": {
                    "type": "boolean",
                    "description": "Continue with next task on failure"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{uuid}/schedules/{scheduleId}/tasks": {
      "post": {
        "tags": [
          "servers/schedules"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          },
          {
            "name": "scheduleId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Schedule ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Task created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "sequence_id": {
                      "type": "integer"
                    },
                    "action": {
                      "type": "string",
                      "enum": [
                        "command",
                        "power",
                        "backup",
                        "delete_files"
                      ]
                    },
                    "payload": {
                      "type": "string",
                      "nullable": true
                    },
                    "time_offset": {
                      "type": "integer"
                    },
                    "continue_on_failure": {
                      "type": "boolean"
                    },
                    "created_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request body"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope"
          },
          "404": {
            "description": "Server or schedule not found"
          }
        },
        "description": "Create a new task for a schedule",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "action",
                  "time_offset",
                  "sequence_id",
                  "continue_on_failure"
                ],
                "properties": {
                  "action": {
                    "type": "string",
                    "enum": [
                      "command",
                      "power",
                      "backup",
                      "delete_files"
                    ],
                    "description": "Task action type"
                  },
                  "payload": {
                    "type": "string",
                    "description": "Action payload"
                  },
                  "time_offset": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 900,
                    "description": "Offset in seconds from schedule time"
                  },
                  "sequence_id": {
                    "type": "integer",
                    "minimum": 1,
                    "description": "Task sequence order"
                  },
                  "continue_on_failure": {
                    "type": "boolean",
                    "description": "Continue with next task on failure"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{uuid}/schedules": {
      "get": {
        "tags": [
          "servers/schedules"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          }
        ],
        "responses": {
          "200": {
            "description": "List of schedules with their tasks",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "integer"
                      },
                      "name": {
                        "type": "string"
                      },
                      "is_active": {
                        "type": "boolean"
                      },
                      "only_when_online": {
                        "type": "boolean"
                      },
                      "timezone": {
                        "type": "string"
                      },
                      "minute": {
                        "type": "string"
                      },
                      "hour": {
                        "type": "string"
                      },
                      "day_of_month": {
                        "type": "string"
                      },
                      "month": {
                        "type": "string"
                      },
                      "day_of_week": {
                        "type": "string"
                      },
                      "last_run_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                      },
                      "next_run_at": {
                        "type": "string",
                        "format": "date-time",
                        "nullable": true
                      },
                      "created_at": {
                        "type": "string",
                        "format": "date-time"
                      },
                      "updated_at": {
                        "type": "string",
                        "format": "date-time"
                      },
                      "relationships": {
                        "type": "object",
                        "properties": {
                          "tasks": {
                            "type": "object",
                            "properties": {
                              "data": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "attributes": {
                                      "type": "object",
                                      "properties": {
                                        "id": {
                                          "type": "integer"
                                        },
                                        "sequence_id": {
                                          "type": "integer"
                                        },
                                        "action": {
                                          "type": "string",
                                          "enum": [
                                            "command",
                                            "power",
                                            "backup",
                                            "delete_files"
                                          ]
                                        },
                                        "payload": {
                                          "type": "string",
                                          "nullable": true
                                        },
                                        "time_offset": {
                                          "type": "integer"
                                        },
                                        "continue_on_failure": {
                                          "type": "boolean"
                                        },
                                        "created_at": {
                                          "type": "string",
                                          "format": "date-time"
                                        },
                                        "updated_at": {
                                          "type": "string",
                                          "format": "date-time"
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope"
          },
          "404": {
            "description": "Server not found"
          }
        },
        "description": "List all schedules for a server"
      },
      "post": {
        "tags": [
          "servers/schedules"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          }
        ],
        "responses": {
          "200": {
            "description": "Schedule created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "name": {
                      "type": "string"
                    },
                    "is_active": {
                      "type": "boolean"
                    },
                    "only_when_online": {
                      "type": "boolean"
                    },
                    "timezone": {
                      "type": "string"
                    },
                    "minute": {
                      "type": "string"
                    },
                    "hour": {
                      "type": "string"
                    },
                    "day_of_month": {
                      "type": "string"
                    },
                    "month": {
                      "type": "string"
                    },
                    "day_of_week": {
                      "type": "string"
                    },
                    "last_run_at": {
                      "type": "string",
                      "format": "date-time",
                      "nullable": true
                    },
                    "next_run_at": {
                      "type": "string",
                      "format": "date-time",
                      "nullable": true
                    },
                    "created_at": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "updated_at": {
                      "type": "string",
                      "format": "date-time"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid request body"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope"
          },
          "404": {
            "description": "Server not found"
          }
        },
        "description": "Create a new schedule for a server",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "minute",
                  "hour",
                  "day_of_month",
                  "month",
                  "day_of_week"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Schedule name"
                  },
                  "is_active": {
                    "type": "boolean",
                    "description": "Whether schedule is active"
                  },
                  "only_when_online": {
                    "type": "boolean",
                    "description": "Run only when server is online"
                  },
                  "timezone": {
                    "type": "string",
                    "description": "Timezone for schedule"
                  },
                  "minute": {
                    "type": "string",
                    "description": "Cron minute expression"
                  },
                  "hour": {
                    "type": "string",
                    "description": "Cron hour expression"
                  },
                  "day_of_month": {
                    "type": "string",
                    "description": "Cron day of month expression"
                  },
                  "month": {
                    "type": "string",
                    "description": "Cron month expression"
                  },
                  "day_of_week": {
                    "type": "string",
                    "description": "Cron day of week expression"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{uuid}/send-command": {
      "post": {
        "tags": [
          "servers"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          }
        ],
        "responses": {
          "200": {
            "description": "Command sent successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "Response from the server command execution"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope"
          },
          "404": {
            "description": "Server not found"
          }
        },
        "description": "Send a console command to a running server",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "command"
                ],
                "properties": {
                  "command": {
                    "type": "string",
                    "description": "Command to execute"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{uuid}/shares/{userId}": {
      "delete": {
        "tags": [
          "servers/shares"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          },
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "User ID to remove"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully removed shared user from server",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "server_id": {
                      "type": "integer",
                      "description": "Internal server ID"
                    },
                    "shared_members": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "serverId": {
                            "type": "integer"
                          },
                          "userId": {
                            "type": "integer"
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "user": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "username": {
                                "type": "string"
                              },
                              "firstName": {
                                "type": "string",
                                "nullable": true
                              },
                              "lastName": {
                                "type": "string",
                                "nullable": true
                              },
                              "email": {
                                "type": "string",
                                "format": "email"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid user ID or cannot remove server owner"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or API key missing required scope: server.share"
          },
          "404": {
            "description": "Not Found - Server or share not found"
          }
        },
        "description": "Remove a shared user from a server"
      }
    },
    "/api/v1/servers/{uuid}/shares": {
      "get": {
        "tags": [
          "servers/shares"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved shared members list",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "server_id": {
                      "type": "integer",
                      "description": "Internal server ID"
                    },
                    "is_owner": {
                      "type": "boolean",
                      "description": "Whether the current user is the server owner"
                    },
                    "shared_members": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "serverId": {
                            "type": "integer"
                          },
                          "userId": {
                            "type": "integer"
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "user": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "username": {
                                "type": "string"
                              },
                              "firstName": {
                                "type": "string",
                                "nullable": true
                              },
                              "lastName": {
                                "type": "string",
                                "nullable": true
                              },
                              "email": {
                                "type": "string",
                                "format": "email"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid UUID format"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or API key missing required scope: server.share"
          },
          "404": {
            "description": "Not Found - Server not found"
          }
        },
        "description": "List all shared users for a server"
      },
      "post": {
        "tags": [
          "servers/shares"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully shared server with user",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "server_id": {
                      "type": "integer",
                      "description": "Internal server ID"
                    },
                    "shared_members": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "serverId": {
                            "type": "integer"
                          },
                          "userId": {
                            "type": "integer"
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "user": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "username": {
                                "type": "string"
                              },
                              "firstName": {
                                "type": "string",
                                "nullable": true
                              },
                              "lastName": {
                                "type": "string",
                                "nullable": true
                              },
                              "email": {
                                "type": "string",
                                "format": "email"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid UUID format, invalid email format, or cannot share with server owner"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or API key missing required scope: server.share"
          },
          "404": {
            "description": "Not Found - Server or user not found"
          },
          "409": {
            "description": "Conflict - User already has access to this server"
          }
        },
        "description": "Share a server with another user by email",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "Email of user to share with"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{uuid}/startup-command": {
      "get": {
        "tags": [
          "servers"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          }
        ],
        "responses": {
          "200": {
            "description": "Startup command information retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "currentStartup": {
                      "type": "string",
                      "description": "Current startup command for the server"
                    },
                    "defaultStartup": {
                      "type": "string",
                      "description": "Default startup command from the egg"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope"
          },
          "404": {
            "description": "Server not found"
          }
        },
        "description": "Get server startup command and default startup command from egg"
      },
      "put": {
        "tags": [
          "servers"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          }
        ],
        "responses": {
          "200": {
            "description": "Startup command updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope"
          },
          "404": {
            "description": "Server not found"
          },
          "500": {
            "description": "Failed to update startup command"
          }
        },
        "description": "Update server startup command (Expert Mode)",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "startup"
                ],
                "properties": {
                  "startup": {
                    "type": "string",
                    "description": "The new startup command"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{uuid}/startup-command/reset": {
      "post": {
        "tags": [
          "servers"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully reset startup command",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "newStartup": {
                      "type": "string",
                      "description": "The new startup command from the egg default"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or API key missing required scope: server.write"
          },
          "404": {
            "description": "Not Found - Server not found"
          },
          "500": {
            "description": "Internal Server Error - Failed to reset startup command"
          }
        },
        "description": "Reset server startup command to egg default"
      }
    },
    "/api/v1/servers/{uuid}/startup-information/{lang}": {
      "get": {
        "tags": [
          "servers"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          },
          {
            "name": "lang",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Language code for translations (e.g., de, en)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved startup information",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "object": {
                      "type": "string",
                      "example": "list"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "object": {
                            "type": "string",
                            "example": "egg_variable"
                          },
                          "attributes": {
                            "type": "object",
                            "properties": {
                              "name": {
                                "type": "string",
                                "description": "Variable name (translated if lang != de)"
                              },
                              "description": {
                                "type": "string",
                                "description": "Variable description (translated if lang != de)"
                              },
                              "env_variable": {
                                "type": "string",
                                "description": "Environment variable name"
                              },
                              "default_value": {
                                "type": "string",
                                "description": "Default value"
                              },
                              "server_value": {
                                "type": "string",
                                "description": "Current server value"
                              },
                              "is_editable": {
                                "type": "boolean",
                                "description": "Whether variable can be edited"
                              },
                              "rules": {
                                "type": "string",
                                "description": "Validation rules"
                              }
                            }
                          }
                        }
                      }
                    },
                    "meta": {
                      "type": "object",
                      "properties": {
                        "startup_command": {
                          "type": "string",
                          "description": "Processed startup command"
                        },
                        "raw_startup_command": {
                          "type": "string",
                          "description": "Raw startup command template"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or API key missing required scope: server.read"
          },
          "404": {
            "description": "Not Found - Server not found"
          }
        },
        "description": "Get server startup information with localized descriptions"
      }
    },
    "/api/v1/servers/{uuid}/startup-variable": {
      "put": {
        "tags": [
          "servers"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          }
        ],
        "responses": {
          "200": {
            "description": "Startup variable updated successfully"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or missing API key scope"
          },
          "404": {
            "description": "Server not found"
          },
          "422": {
            "description": "Validation error - Invalid variable value",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "errors": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "detail": {
                                "type": "string",
                                "description": "Error detail (translated if language specified)"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Failed to update startup variable"
          }
        },
        "description": "Update a startup variable for a server with optional translation support",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "key",
                  "value"
                ],
                "properties": {
                  "key": {
                    "type": "string",
                    "description": "Variable key"
                  },
                  "value": {
                    "type": "string",
                    "description": "Variable value"
                  },
                  "language": {
                    "type": "string",
                    "default": "en",
                    "description": "Language code for error translation"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{uuid}/template-install": {
      "post": {
        "tags": [
          "servers"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "uuid",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "in": "query",
            "name": "includePanelServer",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Server details retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "description": "Internal server ID"
                    },
                    "panelServerId": {
                      "type": "integer",
                      "description": "Panel server ID"
                    },
                    "panelUuid": {
                      "type": "string",
                      "format": "uuid",
                      "description": "Panel server UUID"
                    },
                    "panelUserId": {
                      "type": "integer",
                      "nullable": true,
                      "description": "Panel user ID"
                    },
                    "panelUserPassword": {
                      "type": "string",
                      "nullable": true,
                      "description": "Decrypted Panel user password"
                    },
                    "alias": {
                      "type": "string",
                      "nullable": true,
                      "description": "Server alias/name"
                    },
                    "packageId": {
                      "type": "integer",
                      "nullable": true,
                      "description": "Game package ID"
                    },
                    "autoBackup": {
                      "type": "integer",
                      "description": "Auto backup enabled (0/1)"
                    },
                    "backupInterval": {
                      "type": "string",
                      "nullable": true,
                      "enum": [
                        "DAILY",
                        "WEEKLY",
                        "MONTHLY",
                        "HOURLY"
                      ]
                    },
                    "backupDayValue": {
                      "type": "string",
                      "nullable": true
                    },
                    "backupTimeValue": {
                      "type": "string",
                      "nullable": true
                    },
                    "backupRetention": {
                      "type": "integer",
                      "nullable": true
                    },
                    "backupMonthDayValue": {
                      "type": "integer",
                      "nullable": true
                    },
                    "backupHourMinute": {
                      "type": "integer",
                      "nullable": true
                    },
                    "createdAt": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "updatedAt": {
                      "type": "string",
                      "format": "date-time"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid UUID format"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or API key missing required scope: server.read"
          },
          "404": {
            "description": "Not Found - Server not found"
          }
        },
        "description": "Get server details by UUID"
      }
    },
    "/api/v1/servers/{uuid}/transactions": {
      "get": {
        "tags": [
          "servers"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "Page number"
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "Items per page"
          },
          {
            "name": "from",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "Start date filter"
          },
          {
            "name": "to",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "description": "End date filter"
          }
        ],
        "responses": {
          "200": {
            "description": "Paginated transaction history",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "userId": {
                            "type": "integer"
                          },
                          "amount": {
                            "type": "string",
                            "description": "Transaction amount as string (converted from BigInt)"
                          },
                          "transactionType": {
                            "type": "string"
                          },
                          "referenceId": {
                            "type": "integer"
                          },
                          "usageBegin": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "usageEnd": {
                            "type": "string",
                            "format": "date-time",
                            "nullable": true
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time"
                          }
                        }
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "string"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "limit": {
                          "type": "integer"
                        },
                        "pages": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or API key missing required scope: server.read"
          },
          "404": {
            "description": "Server not found"
          }
        },
        "description": "Get paginated transaction history for a server"
      }
    },
    "/api/v1/servers/{uuid}/variable": {
      "put": {
        "tags": [
          "servers"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          }
        ],
        "responses": {
          "200": {
            "description": "Variable updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Variable updated successfully"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or API key missing required scope: server.write"
          },
          "404": {
            "description": "Server not found"
          }
        },
        "description": "Update a server variable",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "key",
                  "value"
                ],
                "properties": {
                  "key": {
                    "type": "string",
                    "description": "Variable key"
                  },
                  "value": {
                    "type": "string",
                    "description": "Variable value"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/servers/{uuid}/websocket": {
      "get": {
        "tags": [
          "servers"
        ],
        "parameters": [
          {
            "name": "uuid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Server UUID"
          }
        ],
        "responses": {
          "200": {
            "description": "Websocket connection data",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "token": {
                          "type": "string",
                          "description": "Authentication token for websocket connection"
                        },
                        "socket": {
                          "type": "string",
                          "description": "Websocket URL"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - Insufficient permissions or API key missing required scope: server.read"
          },
          "404": {
            "description": "Server not found"
          }
        },
        "description": "Get websocket connection data for server console"
      }
    },
    "/api/v1/servers": {
      "get": {
        "tags": [
          "servers"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1
            }
          },
          {
            "in": "query",
            "name": "limit",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100
            }
          },
          {
            "in": "query",
            "name": "orderBy",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "created_at",
                "owner",
                "game",
                "status"
              ]
            }
          },
          {
            "in": "query",
            "name": "order",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ]
            }
          },
          {
            "in": "query",
            "name": "state",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "running",
                "offline",
                "suspended",
                "starting",
                "stopping",
                "installing",
                "moving",
                "errored"
              ]
            }
          },
          {
            "in": "query",
            "name": "search",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "ownerId",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "summaryOnly",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Paginated list of servers with summary statistics",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "alias": {
                            "type": "string"
                          },
                          "panelUuid": {
                            "type": "string"
                          },
                          "dockerState": {
                            "type": "string"
                          },
                          "isSuspended": {
                            "type": "integer"
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "gamePackage": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "name": {
                                "type": "string"
                              },
                              "cpu": {
                                "type": "integer"
                              },
                              "memory": {
                                "type": "integer"
                              },
                              "disk": {
                                "type": "integer"
                              },
                              "gameId": {
                                "type": "integer"
                              },
                              "priceHourly": {
                                "type": "number"
                              },
                              "priceMonthly": {
                                "type": "number"
                              },
                              "game": {
                                "type": "object",
                                "properties": {
                                  "short": {
                                    "type": "string"
                                  },
                                  "name": {
                                    "type": "string"
                                  }
                                }
                              }
                            }
                          },
                          "user": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "username": {
                                "type": "string"
                              },
                              "firstName": {
                                "type": "string"
                              },
                              "lastName": {
                                "type": "string"
                              },
                              "email": {
                                "type": "string"
                              }
                            }
                          },
                          "game": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "name": {
                                "type": "string"
                              },
                              "short": {
                                "type": "string"
                              }
                            }
                          },
                          "serverSharedUsers": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "user": {
                                  "type": "object",
                                  "properties": {
                                    "id": {
                                      "type": "integer"
                                    },
                                    "username": {
                                      "type": "string"
                                    },
                                    "firstName": {
                                      "type": "string"
                                    },
                                    "lastName": {
                                      "type": "string"
                                    },
                                    "email": {
                                      "type": "string"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "limit": {
                          "type": "integer"
                        },
                        "pages": {
                          "type": "integer"
                        }
                      }
                    },
                    "summary": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer"
                        },
                        "running": {
                          "type": "integer"
                        },
                        "suspended": {
                          "type": "integer"
                        },
                        "offline": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - API key missing required scope: server.list"
          }
        },
        "description": "Get servers with pagination, filtering and search"
      }
    },
    "/api/v1/servers/rent": {
      "post": {
        "tags": [
          "servers"
        ],
        "parameters": [],
        "responses": {
          "201": {
            "description": "Server successfully created",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer"
                    },
                    "alias": {
                      "type": "string"
                    },
                    "panelUuid": {
                      "type": "string"
                    },
                    "gameId": {
                      "type": "integer"
                    },
                    "userId": {
                      "type": "integer"
                    },
                    "dockerState": {
                      "type": "string"
                    },
                    "createdAt": {
                      "type": "string",
                      "format": "date-time"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Server limit reached or rental failed"
          },
          "401": {
            "description": "Unauthorized - Authentication required"
          },
          "403": {
            "description": "Forbidden - API key missing required scope: server.write or insufficient permissions"
          },
          "404": {
            "description": "Not Found - Plan or user not found"
          }
        },
        "description": "Rent a new game server",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "game_short",
                  "plan_id"
                ],
                "properties": {
                  "game_short": {
                    "type": "string"
                  },
                  "plan_id": {
                    "type": "integer",
                    "minimum": 0
                  },
                  "region": {
                    "type": "string",
                    "enum": [
                      "eu",
                      "us"
                    ],
                    "default": "eu"
                  },
                  "template_id": {
                    "type": "integer",
                    "minimum": 1
                  },
                  "template_version_id": {
                    "type": "integer",
                    "minimum": 1
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/transactions/{id}": {
      "get": {
        "tags": [
          "transactions"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Transaction ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Transaction details",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "description": "Transaction ID"
                    },
                    "userId": {
                      "type": "string",
                      "description": "User ID"
                    },
                    "transactionType": {
                      "type": "string",
                      "enum": [
                        "SERVER",
                        "BACKUP",
                        "AFFILIATE_COMMISSION"
                      ],
                      "description": "Transaction type"
                    },
                    "amount": {
                      "type": "string",
                      "description": "Transaction amount"
                    },
                    "usageBegin": {
                      "type": "string",
                      "format": "date-time",
                      "nullable": true,
                      "description": "Usage start time"
                    },
                    "usageEnd": {
                      "type": "string",
                      "format": "date-time",
                      "nullable": true,
                      "description": "Usage end time"
                    },
                    "referenceId": {
                      "type": "string",
                      "description": "Reference ID"
                    },
                    "createdAt": {
                      "type": "string",
                      "format": "date-time",
                      "description": "Creation timestamp"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - API key required"
          },
          "403": {
            "description": "Forbidden - Missing required API key scope (transaction.read)"
          },
          "404": {
            "description": "Transaction not found"
          }
        },
        "description": "Get details for a specific transaction"
      }
    },
    "/api/v1/transactions": {
      "get": {
        "tags": [
          "transactions"
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer"
            },
            "description": "Page number"
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer"
            },
            "description": "Items per page"
          },
          {
            "name": "search",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "description": "Search term"
          },
          {
            "name": "type",
            "in": "query",
            "schema": {
              "type": "string",
              "enum": [
                "SERVER",
                "BACKUP",
                "AFFILIATE_COMMISSION"
              ]
            },
            "description": "Transaction type filter"
          }
        ],
        "responses": {
          "200": {
            "description": "Paginated list of transactions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "number",
                            "description": "Transaction ID"
                          },
                          "userId": {
                            "type": "string",
                            "description": "User ID"
                          },
                          "transactionType": {
                            "type": "string",
                            "enum": [
                              "SERVER",
                              "BACKUP",
                              "AFFILIATE_COMMISSION"
                            ],
                            "description": "Transaction type"
                          },
                          "amount": {
                            "type": "string",
                            "description": "Transaction amount"
                          },
                          "usageBegin": {
                            "type": "string",
                            "format": "date-time",
                            "nullable": true,
                            "description": "Usage start time"
                          },
                          "usageEnd": {
                            "type": "string",
                            "format": "date-time",
                            "nullable": true,
                            "description": "Usage end time"
                          },
                          "referenceId": {
                            "type": "string",
                            "description": "Reference ID"
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time",
                            "description": "Creation timestamp"
                          },
                          "reference_uuid": {
                            "type": "string",
                            "nullable": true,
                            "description": "Pelican UUID for reference"
                          },
                          "user": {
                            "type": "object",
                            "nullable": true,
                            "properties": {
                              "id": {
                                "type": "number",
                                "description": "User ID"
                              },
                              "username": {
                                "type": "string",
                                "description": "Username"
                              },
                              "email": {
                                "type": "string",
                                "format": "email",
                                "description": "User email"
                              }
                            }
                          }
                        }
                      }
                    },
                    "total": {
                      "type": "number",
                      "description": "Total number of all transactions"
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "string",
                          "description": "Total count of filtered transactions"
                        },
                        "page": {
                          "type": "number",
                          "description": "Current page number"
                        },
                        "limit": {
                          "type": "number",
                          "description": "Items per page"
                        },
                        "pages": {
                          "type": "number",
                          "description": "Total number of pages"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - API key required"
          },
          "403": {
            "description": "Forbidden - Missing required API key scope (transaction.list)"
          }
        },
        "description": "List user transactions with pagination"
      }
    }
  },
  "security": [
    {
      "BearerAuth": []
    }
  ],
  "servers": [
    {
      "url": "http://localhost:3001",
      "description": "Local Development Server",
      "variables": {}
    }
  ],
  "components": {
    "securitySchemes": {
      "BearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "description": "API Key authentication. Obtain your API key from the dashboard."
      }
    }
  }
}